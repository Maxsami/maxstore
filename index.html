<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flipkart-style One-Page Shop (Demo)</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    /* --- Minimal Flipkart-like styling (single-file) --- */
    :root{--fk-blue:#2874f0;--fk-dark:#1a2a4a;--muted:#6b7280}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; margin:0;background:#f1f5f9;color:#0f172a}
    a{color:inherit;text-decoration:none}/* header */
header{background:var(--fk-blue);color:white;position:fixed;top:0;left:0;right:0;z-index:40}
.nav{max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:16px;padding:12px}
.logo{display:flex;align-items:center;gap:8px}
.logo img{height:34px}
.search{flex:1;display:flex;align-items:center;background:white;padding:8px;border-radius:4px;min-width:250px}
.search input{flex:1;border:0;outline:none;padding:6px;font-size:14px}
.nav-right{display:flex;align-items:center;gap:14px}
.btn{background:white;color:var(--fk-blue);padding:8px 12px;border-radius:4px;font-weight:700;cursor:pointer}
.cart-btn{display:flex;align-items:center;gap:8px}
.badge{background:#ff3b30;color:white;border-radius:999px;padding:2px 6px;font-size:12px}

/* categories row */
.categories{max-width:1200px;margin:84px auto 12px;display:flex;gap:12px;padding:12px;overflow:auto}
.cat{background:white;border-radius:6px;padding:10px 12px;min-width:84px;text-align:center}
.cat img{height:48px}

/* main grid */
.main{max-width:1200px;margin:12px auto;padding:12px;display:grid;grid-template-columns:240px 1fr;gap:16px}
.filters{background:white;border-radius:8px;padding:12px;height:fit-content}
.products{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
.card{background:white;border-radius:8px;padding:12px;display:flex;flex-direction:column;align-items:center;position:relative}
.card img{width:140px;height:140px;object-fit:contain}
.title{font-size:14px;margin-top:8px;text-align:center}
.price-row{margin-top:8px;display:flex;gap:8px;align-items:center}
.price{font-weight:800}
.muted{color:var(--muted);font-size:13px}
.buy{margin-top:10px}

/* sidebar cart (fixed right) */
.cart-panel{position:fixed;right:12px;top:84px;width:320px;background:white;border-radius:8px;padding:12px;box-shadow:0 8px 30px rgba(2,6,23,0.12);z-index:50}
.cart-item{display:flex;gap:10px;align-items:center;padding:8px 0;border-bottom:1px dashed #eee}
.cart-item img{width:56px;height:56px;object-fit:cover;border-radius:6px}
.totals{margin-top:8px;display:flex;justify-content:space-between;font-weight:700}

/* modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:60}
.modal{background:white;padding:16px;border-radius:8px;max-width:720px;width:96%}

/* responsive */
@media (max-width:1000px){.products{grid-template-columns:repeat(3,1fr)}.main{grid-template-columns:1fr} .cart-panel{position:static;margin:12px auto;right:auto;top:auto;width:auto}}
@media (max-width:640px){.products{grid-template-columns:repeat(2,1fr)}.nav{padding:10px;gap:8px}.search{display:none}}

  </style>
</head>
<body>
  <!-- HEADER (Flipkart-like) -->
  <header>
    <div class="nav">
      <div class="logo">
        <img src="https://static-assets-web.flixcart.com/www/linchpin/fk-cp-zion/img/fk-plus_3b0baa.png" alt="logo">
      </div>
      <div class="search">
        <input id="searchInput" placeholder="Search for products, brands and more" />
        <span class="material-icons" style="color:var(--fk-blue)">search</span>
      </div>
      <div class="nav-right">
        <div class="muted">Hello, Guest</div>
        <button id="openCartBtnTop" class="btn cart-btn"> <span class="material-icons">shopping_cart</span> Cart <span id="topBadge" class="badge">0</span></button>
      </div>
    </div>
  </header>  <!-- category row -->  <div class="categories" id="categories"></div>  <!-- main layout -->  <div class="main">
    <!-- left filters (static) -->
    <aside class="filters">
      <h3>Filters</h3>
      <div style="margin-top:8px">
        <label class="muted">Price range</label>
        <div style="display:flex;gap:8px;margin-top:6px"><input placeholder="Min" style="width:46%"/><input placeholder="Max" style="width:46%"/></div>
      </div>
      <div style="margin-top:12px">
        <label class="muted">Categories</label>
        <div style="margin-top:8px;display:flex;flex-direction:column;gap:6px">
          <label><input type="checkbox" checked /> Electronics</label>
          <label><input type="checkbox" /> Home</label>
          <label><input type="checkbox" /> Fashion</label>
        </div>
      </div>
    </aside><!-- product grid -->
<section>
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
    <h2>Featured Products</h2>
    <div class="muted">Showing <span id="productsCount">0</span> items</div>
  </div>

  <div class="products" id="products"></div>

</section>

  </div>  <!-- floating cart panel -->  <div class="cart-panel" id="cartPanel">
    <h3>Your Cart</h3>
    <div id="cartList"></div>
    <div class="totals"><div>Subtotal</div><div id="subtotal">₹0</div></div>
    <div style="margin-top:10px;display:flex;gap:8px">
      <button id="checkoutBtn" class="btn" style="flex:1">Checkout</button>
      <button id="clearBtn" class="btn" style="background:#eef3ff;color:var(--fk-blue);">Clear</button>
    </div>
  </div>  <!-- modal root -->  <div id="modalRoot"></div>  <script>
    // Product data (same items as demo)
    const PRODUCTS = [
      { id: 'p1', title: 'Aurora Headphones', price: 2499, desc: 'Wireless noise-canceling', img: 'https://rukminim1.flixcart.com/image/312/312/k0wqwsw0/headphone/q/r/1/airdopes-original-imafkfy7.jpg' },
      { id: 'p2', title: 'Nebula Watch', price: 4999, desc: 'Smart watch with sensors', img: 'https://rukminim1.flixcart.com/image/312/312/j6q3t8w0/smartwatch/g/u/0/fitbit-original-imafk3.jpg' },
      { id: 'p3', title: 'Comet Backpack', price: 1999, desc: 'Water-resistant 25L', img: 'https://rukminim1.flixcart.com/image/312/312/ki3gknk0/backpack.jpg' },
      { id: 'p4', title: 'Stellar Lamp', price: 899, desc: 'Mood lamp with colors', img: 'https://rukminim1.flixcart.com/image/312/312/k0wqwsw0/lamp.jpg' },
      { id: 'p5', title: 'Pixel Speaker', price: 1299, desc: 'Portable bluetooth speaker', img: 'https://rukminim1.flixcart.com/image/312/312/ksdjma80/speaker.jpg' },
      { id: 'p6', title: 'Zenphone Case', price: 399, desc: 'Shockproof case', img: 'https://rukminim1.flixcart.com/image/312/312/case.jpg' },
      { id: 'p7', title: 'Pro Charger', price: 599, desc: 'Fast charging 30W', img: 'https://rukminim1.flixcart.com/image/312/312/charger.jpg' },
      { id: 'p8', title: 'Lens Kit', price: 3499, desc: 'Camera lens set', img: 'https://rukminim1.flixcart.com/image/312/312/lens.jpg' }
    ];

    // categories (simple)
    const CATS = [ 'Top Offers','Grocery','Mobiles','Fashion','Electronics','Home','Appliances','Travel','Beauty' ];

    // cart persistence
    const storeKey = 'fk_style_cart_v1';
    let cart = JSON.parse(localStorage.getItem(storeKey) || '[]');

    function money(v){ return '₹' + Number(v).toLocaleString('en-IN') }

    // render categories
    const categoriesEl = document.getElementById('categories');
    categoriesEl.innerHTML = CATS.map(c=>`<div class="cat"><img src="https://rukminim1.flixcart.com/flap/128/128/image/f15c02bfeb02d15d.png" alt=""><div style="margin-top:6px;font-size:13px">${c}</div></div>`).join('');

    // render products
    const productsEl = document.getElementById('products');
    function renderProducts(){
      productsEl.innerHTML = PRODUCTS.map(p=>`
        <div class="card">
          <img src="${p.img}" alt="${p.title}" />
          <div class="title">${p.title}</div>
          <div class="muted">${p.desc}</div>
          <div class="price-row">
            <div class="price">${money(p.price)}</div>
            <div class="muted" style="font-size:12px">incl. taxes</div>
          </div>
          <div class="buy">
            <button class="btn" data-id="${p.id}">Buy</button>
            <button class="btn" style="background:#f3f4f6;color:#111;margin-left:8px" data-id="${p.id}" data-action="add">Add</button>
          </div>
        </div>
      `).join('');

      // attach events
      document.querySelectorAll('.card .btn[data-id]').forEach(btn=>{
        btn.addEventListener('click', e=>{
          const id = e.currentTarget.dataset.id;
          const act = e.currentTarget.dataset.action;
          if(act === 'add') { addToCart(id,1); showPanel(); }
          else { addToCart(id,1); openCheckoutModal(); }
        })
      })
      document.getElementById('productsCount').textContent = PRODUCTS.length;
    }

    // cart UI
    const cartListEl = document.getElementById('cartList');
    const subtotalEl = document.getElementById('subtotal');
    const topBadge = document.getElementById('topBadge');

    function updateCartUI(){
      topBadge.textContent = cart.reduce((s,i)=>s+i.qty,0);
      if(cart.length===0){ cartListEl.innerHTML = '<div class="muted">Your cart is empty</div>'; subtotalEl.textContent = money(0); return; }
      cartListEl.innerHTML = cart.map(it=>{
        const p = PRODUCTS.find(x=>x.id===it.id);
        return `
          <div class="cart-item">
            <img src="${p.img}" />
            <div style="flex:1">
              <div style="font-weight:700">${p.title}</div>
              <div class="muted">${money(p.price)}</div>
              <div style="margin-top:6px;display:flex;gap:6px;align-items:center">
                <button class="btn secondary" data-id="${it.id}" data-op="-">-</button>
                <div class="muted">Qty ${it.qty}</div>
                <button class="btn" data-id="${it.id}" data-op="+">+</button>
                <button class="btn" data-id="${it.id}" data-op="remove" style="background:#fff;color:#f43f5e;border:1px solid #ffdfe3;margin-left:8px">Remove</button>
              </div>
            </div>
          </div>
        `
      }).join('');

      // attach cart ops
      document.querySelectorAll('[data-op]').forEach(b=>b.addEventListener('click', e=>{
        const id = e.currentTarget.dataset.id; const op = e.currentTarget.dataset.op;
        if(op === '+') changeQty(id,1);
        else if(op === '-') changeQty(id,-1);
        else if(op === 'remove') removeFromCart(id);
      }));

      const subtotal = cart.reduce((s,i)=> s + (PRODUCTS.find(p=>p.id===i.id).price * i.qty), 0);
      subtotalEl.textContent = money(subtotal);
      localStorage.setItem(storeKey, JSON.stringify(cart));
    }

    function addToCart(id, qty=1){ const idx = cart.findIndex(i=>i.id===id); if(idx===-1) cart.push({id,qty}); else cart[idx].qty += qty; updateCartUI(); }
    function changeQty(id, delta){ const idx = cart.findIndex(i=>i.id===id); if(idx===-1) return; cart[idx].qty += delta; if(cart[idx].qty<=0) cart.splice(idx,1); updateCartUI(); }
    function removeFromCart(id){ cart = cart.filter(i=>i.id!==id); updateCartUI(); }
    function clearCart(){ cart = []; updateCartUI(); }

    document.getElementById('clearBtn').addEventListener('click', ()=>{ clearCart(); });
    document.getElementById('openCartBtnTop').addEventListener('click', ()=>{ document.getElementById('cartPanel').scrollIntoView({behavior:'smooth'}); });
    function showPanel(){ document.getElementById('cartPanel').style.boxShadow = '0 18px 50px rgba(2,6,23,0.18)'; setTimeout(()=>document.getElementById('cartPanel').style.boxShadow='',900); }

    // checkout modal
    const modalRoot = document.getElementById('modalRoot');
    function openCheckoutModal(){
      if(!cart.length){ alert('Cart is empty'); return; }
      const subtotal = cart.reduce((s,i)=> s + (PRODUCTS.find(p=>p.id===i.id).price * i.qty), 0);
      const fees = Math.round(subtotal*0.03);
      const grand = subtotal + fees;
      modalRoot.innerHTML = `
        <div class="modal-backdrop" id="backdrop">
          <div class="modal">
            <div style="display:flex;justify-content:space-between;align-items:center"><h3>Checkout</h3><button id="closeModalBtn" class="btn" style="background:#f3f4f6;color:#111">Close</button></div>
            <div style="display:flex;gap:12px;margin-top:12px">
              <div style="flex:1">
                <input id="nameInput" placeholder="Full name" style="width:100%;padding:8px;margin-bottom:8px" />
                <input id="emailInput" placeholder="Email" style="width:100%;padding:8px;margin-bottom:8px" />
                <textarea id="addressInput" placeholder="Address" rows="3" style="width:100%;padding:8px"></textarea></div>
          <div style="width:280px">
            <h4>Order summary</h4>
            <div style="max-height:260px;overflow:auto;margin-top:8px;">
              ${cart.map(it=>{ const p = PRODUCTS.find(x=>x.id===it.id); return `<div style="display:flex;justify-content:space-between;margin-bottom:6px"><div>${p.title} × ${it.qty}</div><div>${money(p.price*it.qty)}</div></div>` }).join('')}
            </div>
            <div style="border-top:1px dashed #eee;margin-top:8px;padding-top:8px">
              <div style="display:flex;justify-content:space-between"><div class="muted">Subtotal</div><div>${money(subtotal)}</div></div>
              <div style="display:flex;justify-content:space-between"><div class="muted">Fees</div><div>${money(fees)}</div></div>
              <div style="display:flex;justify-content:space-between;font-weight:800;margin-top:8px"><div>Total</div><div>${money(grand)}</div></div>
            </div>
            <div style="margin-top:10px;display:flex;gap:8px">
              <button id="confirmBtn" class="btn" style="flex:1">Confirm</button>
              <button id="payLaterBtn" class="btn" style="background:#eef3ff;color:var(--fk-blue)">Pay Later</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  `;

  document.getElementById('closeModalBtn').addEventListener('click', ()=> modalRoot.innerHTML='');
  document.getElementById('backdrop').addEventListener('click', e=>{ if(e.target.id==='backdrop') modalRoot.innerHTML=''; });
  document.getElementById('confirmBtn').addEventListener('click', ()=>{
    const name = document.getElementById('nameInput').value.trim();
    const email = document.getElementById('emailInput').value.trim();
    if(!name || !email){ alert('Please enter name and email'); return; }
    document.getElementById('confirmBtn').textContent='Processing...';
    setTimeout(()=>{
      modalRoot.innerHTML = `<div class="modal-backdrop"><div class="modal" style="text-align:center"><h3>Order placed</h3><p class="muted">Thanks ${name} — your order is confirmed (demo)</p><div style="margin-top:12px"><button id="closeDone" class="btn">Close</button></div></div></div>`;
      clearCart();
      document.getElementById('closeDone').addEventListener('click', ()=> modalRoot.innerHTML='');
    },900);
  });

  document.getElementById('payLaterBtn').addEventListener('click', ()=>{ alert('Order saved for later (demo)'); modalRoot.innerHTML=''; });
}

// initial render
renderProducts(); updateCartUI();

  </script>
</body>
</html>